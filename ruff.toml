# Ruff configuration file

line-length = 100
indent-width = 4
target-version = "py310"
show-fixes = true
extend-exclude = [".venv", "logs", "__pycache__", "build", "dist"]

[format]
quote-style = "double"
indent-style = "space"
docstring-code-format = true
docstring-code-line-length = "dynamic"
skip-magic-trailing-comma = false
line-ending = "auto"


[lint]
preview = true

# Enable rules https://docs.astral.sh/ruff/rules/
# Note: Removed Q, COM, ISC, W categories to avoid formatter conflicts
# Conflicting rules are individually ignored below
select = [
    "A",      # Flake8-builtins – misuse of Python built-in names
    "ANN",    # Flake8-annotations – enforces type annotation style
    "ARG",    # Flake8-unused-arguments – flags unused function arguments
    "ASYNC",  # Flake8-async – checks async/await usage
    "B",      # Flake8-bugbear – common bug patterns
    "BLE",    # Flake8-blind-except – flags bare excepts
    "C4",     # Flake8-comprehensions – best practices in comprehensions
    "C90",    # McCabe – complexity metric for functions
    "COM818", # Flake8-commas – trailing comma on bare tuple (non-conflicting)
    "D",      # Pydocstyle – docstring formatting
    # "DOC",  # Pydoclint – docstring linting and consistency
    "DJ",     # Flake8-django – Django-specific conventions
    "DTZ",    # Flake8-datetimez – requires timezone-aware datetime objects
    "E",      # Pycodestyle errors (style issues)
    "EM",     # Flake8-errmsg – error message style
    "ERA",    # Eradicate – detects commented-out code (potentially dangerous)
    "EXE",    # Flake8-executable – executable file checks
    "F",      # Pyflakes – static analysis for Python code
    "FA",     # Flake8-future-annotations – future import for annotations
    "FAST",   # FastAPI – FastAPI-specific linting rules
    "FBT",    # Flake8-boolean-trap – potential pitfalls with booleans
    "FIX",    # Flake8-fixme – flags FIXME comments
    "FLY",    # Flynt – f-string conversion suggestions
    "FURB",   # Refurb – rules for code refurbishment
    "ICN",    # import-conventions
    "INP",    # Flake8-no-pep420 – warns against non-PEP420 namespace usage
    "INT",    # Flake8-gettext – checks for proper internationalization usage
    "ISC001", # Flake8-implicit-str-concat – single line implicit concatenation (non-conflicting)
    "ISC003", # Flake8-implicit-str-concat – explicit string concatenation (non-conflicting)
    "LOG",    # Flake8-logging – proper logging usage
    "N",      # PEP8 Naming – naming conventions
    "PERF",   # Perflint – performance-related checks
    "PGH",    # Pygrep-hooks – custom grep hooks for linting
    "PIE",    # Flake8-pie – Python improvement suggestions
    "PL",     # Pylint – integration with Pylint conventions
    "PT",     # Flake8-pytest-style – pytest best practices
    "PTH",    # Flake8-use-pathlib – encourages pathlib over os.path
    "RET",    # Flake8-return – return statement issues
    "RSE",    # Flake8-raise – proper raise statement usage
    "RUF",    # Ruff-specific rules – additional Ruff checks
    "S",      # Flake8-bandit – security issues
    "SIM",    # Flake8-simplify – code simplification hints
    "SLF",    # Flake8-self – flags instance methods that don't use self
    "SLOT",   # Flake8-slots – suggests use of __slots__ where appropriate
    "T20",    # print statements
    "TC",     # Flake8-type-checking – proper import of typing in type checks
    "TD",     # Flake8-todos – flags TODO comments
    "TID",    # Flake8-tidy-imports – enforces specific import styles (e.g., no relative imports)
    "TRY",    # Tryceratops – try/except usage suggestions
    "UP",     # Pyupgrade – upgrades syntax to newer Python versions
    "YTT",    # Flake8-2020 – checks for Python 2020 best practices
]
ignore = [
    # Non-formatter related ignores
    # Formatter conflicts - these rules conflict with ruff format
    "E111", # indentation-with-invalid-multiple (conflicts with formatter)
    "E114", # indentation-with-invalid-multiple-comment (conflicts with formatter)
    "E117", # over-indented (conflicts with formatter)
    "E501", # line too long (formatter makes best effort but may exceed)
    "D206", # docstring-tab-indentation (conflicts with formatter)
    "D300", # triple-single-quotes (conflicts with formatter quote style)
    "W191", # tab-indentation (conflicts with formatter)
    # Note: COM812, COM819, ISC002, Q000-Q003 removed from select to avoid conflicts
]
fixable = ["ALL"]
unfixable = []

[lint.per-file-ignores]
"tests/*.py" = ["S101"]     # Use of `assert` detected
"**/__init__.py" = ["D104"]
